export type IndicatorTooltipMetricId = 'sla' | 'aht' | 'queueLoad' | 'abandonment'

export interface IndicatorTooltipCopy {
  title: string
  appliesWhen: string
  notAppliedWhen: readonly string[]
}

export const INDICATOR_TOOLTIP_COPY: Record<IndicatorTooltipMetricId, IndicatorTooltipCopy> = {
  sla: {
    title: 'Технические проблемы/сбои',
    appliesWhen:
      'Тег применяется, когда в диалоге имеются признаки неисправности, ошибок, сбоев или некорректной работы систем, сервисов или продуктов Bereke Bank. Также оператор может подтвердить системную проблему, сказав, например, что сейчас ведутся технические работы и сервис временно недоступен или что это массовый сбой.',
    notAppliedWhen: [
      'вопрос клиента носит консультационный характер без признаков системных сбоев (как найти, где подключить и т.д.)',
      'ограничение доступа или блокировка счетов вызваны внешними или внутренними арестами и взысканиями',
      'технический сбой или ошибка произошли на стороне другого банка (проблемы с приемом перевода или оплатой на стороне стороннего банка)',
      'ошибка связана с действиями клиента без признаков системных сбоев (ввел неверные данные, забыл пароль, нет интернета у клиента и т.д.)',
      'недовольство связано с самим продуктом, а не с его технической работоспособностью (например, «у вас вечно не работают банкоматы»)',
    ],
  },
  aht: {
    title: 'Запрос не решен',
    appliesWhen:
      'Тег применяется, когда клиент не получил итогового решения в рамках диалога: вопрос остался открытым, проблема не устранена, ответ неполный или клиенту предложено обратиться позже без фактического закрытия запроса.',
    notAppliedWhen: [
      'клиент получил решение, а дальнейший диалог касается уточнений или дополнительных консультаций',
      'запрос закрыт корректно, но клиент выражает недовольство скоростью или формой обслуживания',
      'обращение было перенаправлено в профильный канал с понятным и завершенным сценарием дальнейших действий',
      'диалог прерван по инициативе клиента до завершения без подтвержденного факта нерешенности со стороны банка',
      'проблема относится к внешнему контрагенту и банк предоставил полный корректный ответ в своей зоне ответственности',
    ],
  },
  queueLoad: {
    title: 'Отрицательный продуктовый фидбэк',
    appliesWhen:
      'Тег применяется, когда клиент дает негативную оценку продукту: условиям, тарифам, ограничениям, логике процесса или пользовательскому опыту, даже если технических ошибок в работе систем не зафиксировано.',
    notAppliedWhen: [
      'негатив связан с подтвержденным техническим сбоем или недоступностью сервиса (это зона тега «Технические проблемы/сбои»)',
      'клиент нейтрально задает вопрос о продукте без явной негативной оценки',
      'жалоба касается действий другого банка или внешнего поставщика, а не продукта Bereke Bank',
      'клиент выражает эмоции из-за личной ошибки или неверно выполненных шагов без продуктовой причины',
      'обсуждение касается только статуса конкретной заявки без негативной оценки самого продукта',
    ],
  },
  abandonment: {
    title: 'Угроза ухода/отказа от продуктов банка',
    appliesWhen:
      'Тег применяется, когда в диалоге есть явное намерение клиента отказаться от продукта, закрыть счет/карту, прекратить обслуживание или перейти в другой банк из-за неудовлетворенности опытом.',
    notAppliedWhen: [
      'клиент выражает недовольство эмоционально, но не заявляет намерения отказаться от продукта',
      'клиент сравнивает предложения рынка без решения о закрытии или уходе',
      'обсуждается временная пауза в использовании продукта без подтвержденного отказа',
      'диалог касается стандартной процедуры закрытия по нейтральным причинам (например, смена продукта без конфликта)',
      'угроза отказа основана на внешних юридических ограничениях и не связана с качеством сервиса или продукта банка',
    ],
  },
}

export function getIndicatorTooltipCopy(metricId: string): IndicatorTooltipCopy | null {
  if (metricId in INDICATOR_TOOLTIP_COPY) {
    return INDICATOR_TOOLTIP_COPY[metricId as IndicatorTooltipMetricId]
  }

  return null
}
